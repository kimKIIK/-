<html lang="ko"><head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
	<meta name="description" content="대한민국 대통령 공식 홈페이지">
	<meta name="keywords" content="대한민국대통령, 윤석열, 탄핵하라, 제20대 대통령은, 이제, 탄핵속으로 사라져라, 국민의 짐, 윤대통령, 제20대 대통령 윤석열 퇴진하라">

	<meta property="og:type" content="website">
	<meta property="og:title" content="대한민국 대통령실">
	<meta property="og:url" content="https://www.president.go.kr">
	<meta property="og:site_name" content="대한민국 대통령실">
	<meta property="og:description" content="대한민국 대통령 공식 홈페이지">
	<meta property="og:image" content="https://www.president.go.kr/thumb_img_new.jpg">

	<style>
		@import url(/assets/css/fonts/pretendard/font.css);

		html,body,div,p,a,span,ul,li,h3{
			margin:0;
			padding:0;
			font-family: 'Pretendard', sans-serif;
		}
		a{text-decoration:none;}
		.container{
			width: 100%;
			height: auto;
			display: table;
		}
		.contents{
			position: relative;
			display: table-cell;
			vertical-align: middle;
			width: 100%;
			margin: 0 auto;
			text-align: center;
		}
		.contents .top_logo{
			display:block;
			max-width: 469px;
			margin: 0 auto 60px auto;
		}

		.contents .top_logo img {
			width:50%;
			height:auto;
		}

		.contents h3{
			font-size: 64px;
			margin-bottom: 15px;
			letter-spacing: -0.5px; /* 글자 간격 줄임 */
			line-height: 1.2; /* 줄 간격 조정 */
		}
		.contents h3 span{color:#ccc;}
		.contents .text{
			font-size: 21px;
			color: #585858;
			letter-spacing: -0.4px; /* 글자 간격 줄임 */
			line-height: 1.4; /* 줄 간격 조정 */
		}
		.contents .text.txt{
			display: block;
			margin-top: 15px; /* 여백 줄임 */
		}
		.contents .btn{
			text-align: center;
			margin-top: 40px;
		}
		.contents .btn a{
			font-size: 16px;
			background-color: #082e59;
			color: #fff;
			width: 300px;
			display: block;
			margin: 0 auto;
			height: 45px;
			line-height: 42px;
			border-radius: 5px;
			cursor: not-allowed;
		}

		.comment-section {
			margin-top: 50px;
			text-align: left;
			width: 80%;
			margin-left: auto;
			margin-right: auto;
		}
		.comment-section h4 {
			font-size: 24px;
			margin-bottom: 20px;
		}
		.comment-section .comment {
			margin-bottom: 15px;
			border-bottom: 1px solid #ddd;
			padding-bottom: 10px;
		}
		.comment-section .comment span.nickname {
			font-weight: bold;
			color: #082e59;
		}
		.comment-section .delete-btn {
			color: red;
			cursor: pointer;
			font-size: 12px;
			margin-left: 10px;
		}
		.comment-section textarea {
			width: 100%;
			margin-top: 10px;
			height: 100px;
			padding: 10px;
			font-size: 14px;
			border: 1px solid #ddd;
			border-radius: 5px;
		}
		.comment-section input {
			margin-top: 10px;
			padding: 10px;
			font-size: 14px;
			border: 1px solid #ddd;
			border-radius: 5px;
		}
		.comment-section .submit-btn {
			background-color: #082e59;
			color: #fff;
			border: none;
			margin-top: 10px;
			padding: 10px 20px;
			font-size: 16px;
			border-radius: 5px;
			cursor: pointer;
		}
		.comment-section .announcement {
			background-color: rgba(8, 46, 89, 0.1);
			border: 1px solid #082e59;
			padding: 20px;
			border-radius: 15px;
			margin-bottom: 20px;
			color: #082e59;
			font-size: 16px;
			font-weight: bold;
		}
		.comment-section .admin-announcement {
			display: none;
			margin-top: 20px;
		}
	</style>

	<title>대통령을 찾을 수 없습니다</title>

</head>
<body>

<div class="container">
	<div class="contents">
		<p class="top_logo"><img src="https://www.president.go.kr/assets/images/common/logo-navy.svg" alt="대통령실 로고 이미지"></p>
		<h3><span>[</span> 대통령(윤석열)을 찾을 수 없습니다 <span>]</span></h3>
		<span class="text">
			입력하신 대통령을 찾을 수 없거나 서비스 연결 오류일 수 있습니다.<br>
			검색어를를 확인하신 후 다시 이용해 주시기 바랍니다.
		</span>
		<span class="text txt">감사합니다.</span>

		<p class="btn"><a href="#">윤석열 탄핵 시위하러 바로가기</a></p>
	</div>
</div>

<div class="comment-section">
	<div class="announcement" id="announcement">
		관리자 공지: 여기에 공지 내용을 작성하세요.
	</div>
	<div class="admin-announcement" id="adminAnnouncement">
		<textarea id="announcementInput" placeholder="공지 내용을 작성하세요"></textarea>
		<button class="submit-btn" onclick="updateAnnouncement()">공지 등록</button>
	</div>

	<h4>댓글 작성</h4>
	<p style="font-size: 12px; color: #888;">부적절한 댓글 (욕설, 도배, 심한 비하발언 등)은 관리자의 의해 삭제될 수 있습니다.</p>
	<textarea id="commentInput" placeholder="댓글을 입력하세요"></textarea>
	<input id="nicknameInput" type="text" placeholder="닉네임을 입력하세요">
	<div style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
		<input id="adminCodeInput" type="password" placeholder="관리자 코드를 입력하세요" style="padding: 10px; font-size: 14px; border: 1px solid #ddd; border-radius: 5px;">
		<button class="submit-btn" onclick="verifyAdminCode()">관리자 코드</button>
	</div>
	<button class="submit-btn" onclick="addComment()" style="margin-top: 10px;">댓글 작성</button>

	<div id="comments" style="margin-top: 20px;"></div>
</div>

<script>
	const commentsContainer = document.getElementById('comments');
	const announcementElement = document.getElementById('announcement');
	const adminAnnouncementElement = document.getElementById('adminAnnouncement');
	let commentsData = [];
	let displayCount = 20;
	let isAdminVerified = false;

	function verifyAdminCode() {
		const adminCodeInput = document.getElementById('adminCodeInput');
		const adminCode = adminCodeInput.value.trim();
		if (adminCode === 'admin1234') {
			isAdminVerified = true;
			alert('관리자 권한이 확인되었습니다.');
			adminAnnouncementElement.style.display = 'block';
			adminCodeInput.value = '';
		} else {
			alert('관리자 코드가 올바르지 않습니다.');
		}
	}

	function addComment() {
		const commentInput = document.getElementById('commentInput');
		const nicknameInput = document.getElementById('nicknameInput');
		const comment = commentInput.value.trim();
		const nickname = nicknameInput.value.trim();

		if (!comment || !nickname) {
			alert('닉네임과 댓글을 모두 입력해주세요.');
			return;
		}

		commentsData.unshift({ nickname, comment });
		commentInput.value = '';
		nicknameInput.value = '';
		renderComments();
	}

	function deleteComment(deleteButton) {
		if (isAdminVerified) {
			const index = Array.from(deleteButton.parentElement.parentElement.children).indexOf(deleteButton.parentElement);
			commentsData.splice(index, 1);
			renderComments();
		} else {
			alert('관리자 권한이 없습니다.');
		}
	}

	function renderComments() {
		commentsContainer.innerHTML = '';
		const commentsToDisplay = commentsData.slice(0, displayCount);
		commentsToDisplay.forEach(({ nickname, comment }) => {
			const commentElement = document.createElement('div');
			commentElement.className = 'comment';
			commentElement.innerHTML = `
				<span class="nickname">${nickname}</span>: ${comment}
				<span class="delete-btn" onclick="deleteComment(this)">삭제</span>
			`;
			commentsContainer.appendChild(commentElement);
		});
	}

	function updateAnnouncement() {
		const announcementInput = document.getElementById('announcementInput').value.trim();
		if (announcementInput) {
			announcementElement.textContent = `관리자 공지: ${announcementInput}`;
		}
	}

// 댓글 데이터를 서버에 저장하는 함수
async function saveCommentToServer(comment, nickname) {
    try {
        await fetch('/save-comment', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ nickname, comment })
        });
    } catch (error) {
        console.error('댓글 저장 중 오류 발생:', error);
    }
}

// 댓글 추가 시 서버에 데이터 저장 후 렌더링
async function addComment() {
    const commentInput = document.getElementById('commentInput');
    const nicknameInput = document.getElementById('nicknameInput');
    const comment = commentInput.value.trim();
    const nickname = nicknameInput.value.trim();

    if (!comment || !nickname) {
        alert('닉네임과 댓글을 모두 입력해주세요.');
        return;
    }

    await saveCommentToServer(comment, nickname);
    commentsData.unshift({ nickname, comment });
    commentInput.value = '';
    nicknameInput.value = '';
    renderComments();
}

// 페이지 로드 시 서버에서 댓글 데이터 가져오기
async function loadCommentsFromServer() {
    try {
        const response = await fetch('/get-comments');
        commentsData = await response.json();
        renderComments();
    } catch (error) {
        console.error('댓글 불러오기 중 오류 발생:', error);
    }
}

// 초기화
window.onload = loadCommentsFromServer;


	renderComments();
</script>

</body></html>
